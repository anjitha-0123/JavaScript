<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .priority-low{
            color: green;
        }
        .priority-medium{
            color: yellow;
        }
        .priority-high{
            color: red;
        }
        .strike{
        text-decoration: line-through;
        color: grey;}
        .button1{
            width: 80px;
            height: 50px;
            background-color: black;
            color: bisque;
            border-radius: 5px;
            margin-left: 10px;
            margin-top: 2px;
        }
        .button2{
            width: 80px;
            height: 50px;
            background-color: black;
            color: bisque;
            border-radius: 5px;
            margin-left: 10px;
            margin-top: 2px;
        }
        .button3{
            width: 80px;
            height: 50px;
            background-color: black;
            color: bisque;
            border-radius: 5px;
            margin-left: 10px;
            margin-top: 2px;
        }




    </style>
    
    <script>
        
        let movie=[]; //Array to store movies 
        let priority=[]; //Array to store priority

        //function to perform when it click the add movie button
        function getmovieInput(){
            let Moviename=document.getElementById("mymovie").value.trim(); //storing the input value of movie into Moviename variable
            let Moviepriority=parseInt(document.getElementById("Mpriority").value); //storing the input value of prority into Moviepriority variable
           let movieList=document.getElementById("show1")    //calling the id of button to list movies


            if(Moviename.trim()===" " || (Moviepriority!==1 && Moviepriority !==2 && Moviepriority !== 3))
            {
                alert("Enter a valid movie name and priority (1,2 or 3)!");
                return;
            }
            movie.push(Moviename);
            priority.push(Moviepriority);

            const list=document.createElement("li");
            list.innerHTML=Moviename;
            

            if(Moviepriority==1){
                list.classList.add("priority-low") //(classList is a js property)add one (or more) CSS classes(priority-low) to the list element.
            }
            else if(Moviepriority==2){
                list.classList.add("priority-medium")
            }
            else {
                list.classList.add("priority-high")
            }
        movieList.appendChild(list);
        document.getElementById("mymovie").value=" ";
        document.getElementById("Mpriority").value=" ";
        
        let btn1=document.createElement("button");
        btn1.textContent="Watched";
          btn1.className="button1" //to style the button give the classname
          list.appendChild(btn1);
          btn1.onclick=function(){
          list.className="strike"

          }  
          
          
          let btn2=document.createElement("button");
          btn2.textContent="edit";
          btn2.className="button2";
          list.appendChild(btn2);

          btn2.onclick = function () {
               let newMovie = prompt('Edit Movie Name:', Moviename);
               let newPriority = parseInt(prompt('Edit Priority (1, 2, 3):', Moviepriority));

          if (newMovie !== Moviename)
           {
        // Update the movie name
             Moviename = newMovie.trim();
             Moviepriority = newPriority;

        // Update the list item text
             list.innerHTML = Moviename;

        // Remove all priority-related classes
           list.classList.remove("priority-low", "priority-medium", "priority-high");

        // Apply the new priority class
            if (newPriority == 1) {
               list.classList.add("priority-low");
           } else if (newPriority == 2) {
               list.classList.add("priority-medium");
           } else {
               list.classList.add("priority-high");
           }

        // Re-add the buttons
        list.appendChild(btn1);
        list.appendChild(btn2);
        list.appendChild(btn3);
        } 
    else
     {
        alert("Invalid input. Please provide a valid name and priority (1, 2, or 3).");
     }
  };

  let btn3=document.createElement("button");
          btn3.textContent="Remove";
          btn3.className="button3";
          list.appendChild(btn3);

  btn3.onclick=function(){
        movieList.removeChild(list)
    }

          
    }
    </script>
</head>
<body>
    <nav class="border-4 border-black w-full h-24 bg-green-900">
<h class="text-4xl flex justify-center text-white font-bold font-sans mt-4">MOVIE PLAYLIST MANAGER</h>
       
    </nav>
        <!---- <div class="w-full border-2  border-black h-[450px]">
         <ul class=" flex justify-between mt-24">

            <li><div><iframe class="w-96 h-60 ml-2" src="https://www.youtube.com/embed/CopUV9QH1pQ"></iframe>
                <label class="ml-6">Movie : shutter-Island(2015)</label>
                <div class="flex ml-6"><label>Genre 1: Thriller</label><div class="w-4 h-4 rounded-full bg-green-900 ml-2 mt-1"></div>
                </div>
            </div></li>
            
            <li><div><iframe class="w-96 h-60 ml-2 mr-4" src="https://www.youtube.com/embed/y1yvUokwfrQ"></iframe>
                <label class="ml-6">Movie : The Grinch</label>
                <div class="flex ml-6"><label>Genre 2: Comedy </label><div class="w-4 h-4 rounded-full bg-yellow-500 ml-2 mt-1"></div>
                </div>
            </div></li>

            <li><div><iframe class="w-96 h-60 ml-4" src="https://www.youtube.com/embed/w556zi-vP48"></iframe> 
                <label class="ml-6">Movie : Five Feet Apart </label>
                <div class="flex ml-6"><label>Genre 3: Romance </label><div class="w-4 h-4 rounded-full bg-red-900 ml-2 mt-1 "></div>
                </div>
                </div></li>
                
        </ul>
        </div>--->

        <div class="grid border-2 border-black w-[270px] h-[130px] mt-4 mx-auto">
            <input type="text" class="border-2 border-black w-64 h-12 ml-1 mt-2" placeholder="Movie Name" id="mymovie">
           <input type="number" id="Mpriority" placeholder="Priority(1-3)" min="1" max="3" class="border-2 border-black w-64 h-12 ml-1 mt-2">
            <button class="mt-4 w-64 h-12 ml-1 mt-8 bg-green-900 text-white " onclick="getmovieInput()">Add Movie</button>
            <ul id="show1"></ul>
            
            </div>
</body>
</html>