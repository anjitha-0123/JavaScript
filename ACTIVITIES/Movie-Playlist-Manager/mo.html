<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie Playlist</title>
  <script src="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"></script>
</head>
<body class="bg-gray-100 p-6">

  <h1 class="text-3xl font-bold mb-6">Movie Playlist</h1>

  <!-- Input Fields for Movie and Priority -->
  <div class="mb-4">
    <input id="movieNameInput" type="text" placeholder="Enter movie name" class="p-2 border border-gray-400 rounded mr-4">
    <input id="priorityInput" type="number" placeholder="Enter priority (1-3)" class="p-2 border border-gray-400 rounded">
    <button id="addMovieButton" class="bg-blue-500 text-white p-2 rounded ml-4" onclick="addMovie()">Add Movie</button>
  </div>

  <!-- Unordered List to Display Movies -->
  <ul id="movieList" class="list-none pl-0">
    <!-- Movies will be displayed here -->
  </ul>

  <script src="script.js"></script>
</body>

<script>

// Arrays to store movie names and priorities
let movies = [];
let priorities = [];

const movieNameInput = document.getElementById('movieNameInput');
const priorityInput = document.getElementById('priorityInput');
const movieList = document.getElementById('movieList');

// Function to add a movie
function addMovie() {
  const movieName = movieNameInput.value.trim();
  const priority = parseInt(priorityInput.value, 10);

  // Validation
  if (!movieName) {
    alert("Enter a valid movie name and priority (1,2 or 3)!");
    return;
  }

  if (isNaN(priority) || priority < 1 || priority > 3) {
    alert('Priority must be a number between 1 and 3!');
    return;
  }

  // Add movie and priority to arrays
  movies.push(movieName);
  priorities.push(priority);

  // Create list item and add appropriate classes
  const li = document.createElement('li');
  li.classList.add('flex', 'items-center', 'mb-2', 'p-2', 'border', 'border-gray-300', 'rounded', 'bg-white');
  li.textContent = movieName;

  // Set the priority class
  if (priority === 1) {
    li.classList.add('priority-high', 'text-red-600');
  } else if (priority === 2) {
    li.classList.add('priority-medium', 'text-yellow-600');
  } else {
    li.classList.add('priority-low', 'text-green-600');
  }

  // Create buttons for editing, removing, and marking as watched
  const watchedButton = document.createElement('button');
  watchedButton.textContent = 'Watched';
  watchedButton.classList.add('ml-4', 'bg-gray-400', 'text-white', 'p-1', 'rounded');
  watchedButton.setAttribute('onclick', `markAsWatched(this, '${movieName}')`);

  const editButton = document.createElement('button');
  editButton.textContent = 'Edit';
  editButton.classList.add('ml-2', 'bg-yellow-400', 'text-white', 'p-1', 'rounded');
  editButton.setAttribute('onclick', `editMovie(this, '${movieName}', ${priority})`);

  const removeButton = document.createElement('button');
  removeButton.textContent = 'Remove';
  removeButton.classList.add('ml-2', 'bg-red-500', 'text-white', 'p-1', 'rounded');
  removeButton.setAttribute('onclick', `removeMovie(this, '${movieName}', ${priority})`);

  // Append buttons to list item
  li.appendChild(watchedButton);
  li.appendChild(editButton);
  li.appendChild(removeButton);

  // Append list item to the unordered list
  movieList.appendChild(li);

  // Clear input fields
  movieNameInput.value = '';
  priorityInput.value = '';
}

// Function to mark a movie as watched
function markAsWatched(button, movieName) {
  const li = button.parentElement;
  li.classList.add('text-gray-400', 'line-through');
  button.disabled = true;
}

// Function to edit a movie
function editMovie(button, oldMovieName, oldPriority) {
  const newMovieName = prompt('Enter new movie name:', oldMovieName);
  const newPriority = prompt('Enter new priority (1-3):', oldPriority);

  if (!newMovieName || isNaN(newPriority) || newPriority < 1 || newPriority > 3) {
    alert('Invalid input. Movie not updated.');
    return;
  }

  // Update arrays
  const index = movies.indexOf(oldMovieName);
  movies[index] = newMovieName;
  priorities[index] = parseInt(newPriority, 10);

  // Update list item text and class
  const li = button.parentElement;
  li.textContent = newMovieName;
  li.classList.remove('priority-high', 'priority-medium', 'priority-low');
  if (newPriority == 1) {
    li.classList.add('priority-high', 'text-red-600');
  } else if (newPriority == 2) {
    li.classList.add('priority-medium', 'text-yellow-600');
  } else {
    li.classList.add('priority-low', 'text-green-600');
  }

  // Reattach buttons after update
  li.appendChild(button);
  li.appendChild(button.nextSibling);
  li.appendChild(button.nextSibling.nextSibling);
}

// Function to remove a movie
function removeMovie(button, movieName, priority) {
  // Remove movie from the arrays
  const index = movies.indexOf(movieName);
  movies.splice(index, 1);
  priorities.splice(index, 1);

  // Remove list item from DOM
  const li = button.parentElement;
  movieList.removeChild(li);
}








-------



const movie=[];
const priority=[];


function addMovie(){
    let movievalue1=document.getElementById("movieName").value.trim();
    let priority1=document.getElementById("priority").value;
    let list1=document.getElementById("list");
   
     document.getElementById("movieName").value="";
    
    movie.push(movievalue1)
    console.log(movie);
    
    
    priority.push(priority1);
    console.log(priority);

    
    let li=document.createElement("li");
    let btn1=document.createElement("button");
    let btn2=document.createElement("button");
    let btn3=document.createElement("button");
    
    
    li.textContent=movievalue1;
    btn1.textContent="Watched";     
    btn2.textContent="Edit";
    btn3.textContent="Remove"
    
    
    if(priority1==1){
        li.className="red"
    }else if(priority1==2){
        li.className="yellow"
    }else {
        li.className="green"
    }
    

   btn1.className="clbtn1"
   btn2.className="clbtn2"
   btn3.className="clbtn3"
   
   
   
   li.appendChild(btn1);
   li.appendChild(btn2);
   li.appendChild(btn3);
   list1.appendChild(li);
   
   
   btn1.onclick=function(){
        li.className="strike"
        
    }
    btn2.onclick=function(){
        let newMovie= prompt ('Edit Movie Name :',movievalue1)
        let newpriority=prompt('Edit Priority (1,2,3):',priority1)

        if(newpriority!==priority1){
            priority1=newpriority;
           
            if(priority1==1){
                li.className="red"
            }else if(priority1==2){
                li.className="yellow"
            }else {
                li.className="green"
            }
           
        }

        if (newMovie && newMovie !== movievalue1) {
            movievalue1 = newMovie.trim(); 
            li.firstChild.textContent = movievalue1;
        }
    }
    
    btn3.onclick=function(){
        list1.removeChild(li)
    }
    

    }
</script>
</html>