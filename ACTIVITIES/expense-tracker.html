<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h1, h2 {
            text-align: center;
        }
        form {
            margin-bottom: 20px;
        }
        .hidden {
            display: none;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid #ccc;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f4f4f4;
        }
    </style>
</head>
<body>
    <h1>Expense Tracker</h1>

    <form id="expense-form">
        <label for="date">Date:</label>
        <input type="date" id="date" required>

        <label for="category">Category:</label>
        <select id="category" required>
            <option value="Food">Food</option>
            <option value="Transport">Transport</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Utilities">Utilities</option>
            <option value="Shopping">Shopping</option>
            <option value="Other">Other</option>
        </select>

        <div id="other-category" class="hidden">
            <label for="custom-category">Custom Category:</label>
            <input type="text" id="custom-category">
        </div>

        <label for="amount">Amount:</label>
        <input type="number" id="amount" required>

        <button type="submit">Add Expense</button>
    </form>

    <h2>Expenses</h2>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Category</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody id="expense-list"></tbody>
    </table>

    <h2>Filter by Month</h2>
    <label for="month-filter">Month:</label>
    <select id="month-filter">
        <option value="">Select Month</option>
        <option value="01">January</option>
        <option value="02">February</option>
        <option value="03">March</option>
        <option value="04">April</option>
        <option value="05">May</option>
        <option value="06">June</option>
        <option value="07">July</option>
        <option value="08">August</option>
        <option value="09">September</option>
        <option value="10">October</option>
        <option value="11">November</option>
        <option value="12">December</option>
    </select>

    <script>
        const expenseForm = document.getElementById('expense-form');
        const expenseList = document.getElementById('expense-list');
        const monthFilter = document.getElementById('month-filter');
        const categorySelect = document.getElementById('category');
        const otherCategoryDiv = document.getElementById('other-category');
        const customCategoryInput = document.getElementById('custom-category');

        let expenses = [];

        categorySelect.addEventListener('change', () => {
            if (categorySelect.value === 'Other') {
                otherCategoryDiv.classList.remove('hidden');
            } else {
                otherCategoryDiv.classList.add('hidden');
                customCategoryInput.value = '';
            }
        });

        function renderExpenses(filteredExpenses = expenses) {
            expenseList.innerHTML = '';
            filteredExpenses.forEach(expense => {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${expense.date}</td><td>${expense.category}</td><td>${expense.amount}</td>`;
                expenseList.appendChild(row);
            });
        }

        expenseForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const date = document.getElementById('date').value;
            const amount = document.getElementById('amount').value;
            let category = categorySelect.value;

            if (category === 'Other') {
                category = customCategoryInput.value || 'Other';
            }

            if (date && amount && category) {
                expenses.push({ date, category, amount });
                renderExpenses();
                expenseForm.reset();
                otherCategoryDiv.classList.add('hidden');
            }
        });

        monthFilter.addEventListener('change', () => {
            const selectedMonth = monthFilter.value;
            if (selectedMonth) {
                const filteredExpenses = expenses.filter(expense => {
                    return expense.date.split('-')[1] === selectedMonth;
                });
                renderExpenses(filteredExpenses);
            } else {
                renderExpenses();
            }
        });

        renderExpenses();
    </script>
</body>
</html>
